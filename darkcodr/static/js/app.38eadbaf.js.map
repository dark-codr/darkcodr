{"version":3,"file":"js/app.38eadbaf.js","mappings":"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","sources":["webpack://python-webpack-boilerplate/./src/components/axiosFactory.js","webpack://python-webpack-boilerplate/./src/application/app.js","webpack://python-webpack-boilerplate/./src/components/Swiper.js","webpack://python-webpack-boilerplate/./src/components/sidebar.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\naxios.defaults.xsrfCookieName = \"csrftoken\";\naxios.defaults.timeout = 15000;\n\nexport default axios;\n","import '../styles/tailwindcss.css';\nimport htmx from 'htmx.org/dist/htmx';\nimport Alpine from 'alpinejs';\nimport Swiper from 'swiper';\nimport axios from '../components/axiosFactory';\nimport { detect } from 'detect-browser';\n\nimport '../components/sidebar';\nimport SwiperComponent from '../components/Swiper';\n\nwindow.document.addEventListener('DOMContentLoaded', function () {\n  window.console.log('dom ready 1');\n});\n\nconst browser = detect();\nconst {\n  APPLICATION_SERVER_KEY,\n  CREATE_WP_SUBSCRIPTION,\n  SEND_NOTIFICATION\n} = window.WEB_PUSH_CFG;\nconst sw = window.SW_URL;\nwindow.htmx = htmx;\n\nfunction urlBase64ToUint8Array (base64String) {\n  // https://gist.github.com/Klerith/80abd742d726dd587f4bd5d6a0ab26b6#file-urlbase64touint8array-js\n  var padding = '='.repeat((4 - (base64String.length % 4)) % 4);\n  var base64 = (base64String + padding).replace(/\\-/g, '+').replace(/_/g, '/');\n\n  var rawData = window.atob(base64);\n  var outputArray = new Uint8Array(rawData.length);\n\n  for (var i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n\nfunction saveSubscribeObj (active, subscription) {\n  // sends the subscription info to backend server\n  const subscriptionJson = subscription.toJSON();\n  const endpointParts = subscriptionJson.endpoint.split('/');\n  const registrationId = endpointParts[endpointParts.length - 1];\n  const data = {\n    browser: browser.name.toUpperCase(),\n    p256dh: subscriptionJson.keys.p256dh,\n    auth: subscriptionJson.keys.auth,\n    name: 'notification-subscription',\n    registration_id: registrationId,\n    active: active\n  };\n\n  axios\n    .post(CREATE_WP_SUBSCRIPTION, data)\n    .then(function (response) {\n      console.log(response);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\nfunction subscribe (registration) {\n  const options = {\n    userVisibleOnly: true, // required by chrome\n    applicationServerKey: urlBase64ToUint8Array(APPLICATION_SERVER_KEY)\n  };\n\n  registration.pushManager.subscribe(options).then(\n    function (subscription) {\n      console.log(subscription.endpoint);\n      // The push subscription details needed by the application\n      // server are now available, and can be sent to it using,\n      // for example, an XMLHttpRequest.\n      saveSubscribeObj(true, subscription);\n      setupTriggerButton(subscription);\n    },\n    function (error) {\n      // During development it often helps to log errors to the\n      // console. In a production environment it might make sense to\n      // also report information about errors back to the\n      // application server.\n      console.log(error);\n    }\n  );\n}\n\nfunction setupTriggerButton (subscription) {\n  const triggerNotificationButton = document.getElementById(\n    'triggerNotificationButton'\n  );\n  triggerNotificationButton.classList.toggle('hidden', false);\n\n  triggerNotificationButton.addEventListener('click', () => {\n    const subscriptionJson = subscription.toJSON();\n    const endpointParts = subscriptionJson.endpoint.split('/');\n    const registrationId = endpointParts[endpointParts.length - 1];\n    const data = {\n      registration_id: registrationId\n    };\n\n    axios\n      .post(SEND_NOTIFICATION, data)\n      .then(function (response) {\n        return response;\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  });\n}\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', () => {\n    navigator.serviceWorker\n      .register(sw)\n      .then(registration => {\n        console.log('SW registration succeeded:', registration);\n        navigator.serviceWorker.ready.then(function (registration) {\n          console.log('[SW] is active:', registration.active);\n\n          registration.pushManager\n            .getSubscription()\n            .then(function (subscription) {\n              if (!subscription) {\n                subscribe(registration);\n              } else {\n                setupTriggerButton(subscription);\n\n                const subscriptionJson = subscription.toJSON();\n                console.log(\n                  `already has subscription ${JSON.stringify(subscriptionJson)}`\n                );\n              }\n            });\n        });\n      })\n      .catch(registrationError => {\n        console.log('SW registration failed: ', registrationError);\n      });\n  });\n}\n\n// Alpine JS Scripts\nwindow.Alpine = Alpine;\nAlpine.data('SwiperComponent', SwiperComponent);\nAlpine.start();\n\nwindow.Swiper = Swiper;\n\nif (process.env.NODE_ENV === 'development') {\n  // enable logging for htmx in development server\n  window.htmx.logAll();\n}\n\n\nconst installButton = document.getElementById('installButton');\n\nwindow.addEventListener('beforeinstallprompt', event => {\n  console.log('üëç', 'beforeinstallprompt', event);\n  // Stash the event so it can be triggered later.\n  window.deferredPrompt = event;\n  // Remove the 'hidden' class from the install button container\n  installButton.classList.toggle('hidden', false);\n});\n\ninstallButton.addEventListener('click', () => {\n  console.log('üëç', 'butInstall-clicked');\n  const promptEvent = window.deferredPrompt;\n  if (!promptEvent) {\n    // The deferred prompt isn't available.\n    return;\n  }\n  promptEvent.prompt();\n  promptEvent.userChoice.then(choice => {\n    console.log('üëç', 'userChoice', choice);\n    // Reset the deferred prompt variable, since\n    // prompt() can only be called once.\n    window.deferredPrompt = null;\n    // Hide the install button.\n    installButton.classList.toggle('hidden', true);\n  });\n});\n","import Swiper from \"swiper\";\n\nexport default function SwiperComponent() {\n  return {\n    swiper: {},\n\n    initSwiper() {\n      let swiper;\n      swiper = new Swiper(this.$refs.container, {\n        autoplay: {\n          delay: 5000,\n          disableOnInteraction: false,\n        },\n        loop: true,\n        speed: 1000,\n        spaceBetween: 0,\n        breakpoints: {\n          320: { slidesPerView: 1, spaceBetween: 20 },\n          480: { slidesPerView: 2, spaceBetween: 30 },\n          640: { slidesPerView: 3, spaceBetween: 40 },\n          768: { slidesPerView: 4, spaceBetween: 30 },\n          1524: { slidesPerView: 5, spaceBetween: 30 },\n        },\n      });\n      return this.swiper = swiper;\n    },\n\n    prevSlide() {\n      let swiper;\n      swiper = new Swiper(this.$refs.container, {\n        autoplay: {\n          delay: 5000,\n          disableOnInteraction: false,\n        },\n        loop: true,\n        speed: 1000,\n        spaceBetween: 0,\n        breakpoints: {\n          320: { slidesPerView: 1, spaceBetween: 20 },\n          480: { slidesPerView: 2, spaceBetween: 30 },\n          640: { slidesPerView: 3, spaceBetween: 40 },\n          768: { slidesPerView: 4, spaceBetween: 30 },\n          1524: { slidesPerView: 5, spaceBetween: 30 },\n        },\n      });\n      swiper.slidePrev();\n    },\n\n    nextSlide() {\n      let swiper;\n      swiper = new Swiper(this.$refs.container, {\n        autoplay: {\n          delay: 5000,\n          disableOnInteraction: false,\n        },\n        loop: true,\n        speed: 1000,\n        spaceBetween: 0,\n        breakpoints: {\n          320: { slidesPerView: 1, spaceBetween: 20 },\n          480: { slidesPerView: 2, spaceBetween: 30 },\n          640: { slidesPerView: 3, spaceBetween: 40 },\n          768: { slidesPerView: 4, spaceBetween: 30 },\n          1524: { slidesPerView: 5, spaceBetween: 30 },\n        },\n      });\n      swiper.slideNext();\n    },\n  };\n}\n","window.console.log(\"sidebar is loaded\");\n"],"names":["axios","window","document","addEventListener","console","log","browser","detect","APPLICATION_SERVER_KEY","CREATE_WP_SUBSCRIPTION","SEND_NOTIFICATION","WEB_PUSH_CFG","sw","SW_URL","urlBase64ToUint8Array","base64String","base64","repeat","length","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","setupTriggerButton","subscription","triggerNotificationButton","getElementById","classList","toggle","endpointParts","toJSON","endpoint","split","data","registration_id","then","response","catch","error","htmx","navigator","serviceWorker","register","registration","ready","active","pushManager","getSubscription","subscriptionJson","JSON","stringify","options","userVisibleOnly","applicationServerKey","subscribe","registrationId","name","toUpperCase","p256dh","keys","auth","saveSubscribeObj","registrationError","Alpine","swiper","initSwiper","Swiper","this","$refs","container","autoplay","delay","disableOnInteraction","loop","speed","spaceBetween","breakpoints","slidesPerView","prevSlide","slidePrev","nextSlide","slideNext","installButton","event","deferredPrompt","promptEvent","prompt","userChoice","choice"],"sourceRoot":""}